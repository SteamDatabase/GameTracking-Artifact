

//====  SPELLCAST BASED  =================================================================================================================================================================================================================================================================================================================================================================================
//========================================================================================================================================================================================================================================================================================================================================================================================================


// PLAYER HAS NO LOCAL UNITS: *********************************************************************************************************************************************************************************************************************


// PLAYER NOT LOSING GAME: --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

// note: the big intro animations will try to play first as they have "thisIsImportant" criteria.
// if the timer variable check is running for the big intro and the RRs cant play it, they will fall back and play the idle without the big intro.


// player's reaction:


Rule imps_local_negative_no_local_units_broad
{
	
	// has broad intro
	
	criteria Death IsNotCombat IsLocalImp  PlayerIsNotLosingGame IsNoLocalUnits IsOpponentUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsWaitingToPlayPlayerNumberOfUnitsResponses thisIsImportant
	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsResponses:1:20"
	ApplyContextToWorld		
	response imps_local_negative_no_local_units_broad
}


Rule imps_local_negative_no_local_units_idle
{

	// this plays when we DONT want the player to play the big intro, 
	
	criteria Death IsNotCombat IsLocalImp IsNoLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsOpponentUnits IsWaitingToPlayPlayerNumberOfUnitsIdleResponses 
	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsIdleResponses:1:20"
	ApplyContextToWorld		
	response imps_local_negative_no_local_units_idle 
}



Rule imps_local_negative_no_local_units_idle_special
{
	criteria Special IsChainingToPlayerNoLocalUnitsIdleLoop IsLocalImp 
	 
	response imps_local_negative_no_local_units_idle
}



// opponent's reaction:


Rule imps_opponent_positive_no_local_units_idle
{
	criteria Death IsNotCombat IsOpponentImp  IsNoLocalUnits IsOpponentUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull 
		
	response imps_opponent_positive_no_local_units_idle
}




// PLAYER LOSING GAME:    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

// player:

Rule imps_local_negative_no_local_units_idle_player_losing
{

	// this plays when we DONT want the player to play the big intro because the opponent is playing his:
	
	criteria Death IsNotCombat IsLocalImp PlayerIsLosingGame IsGameRound4orMore IsNoLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsOpponentUnits IsWaitingToPlayPlayerNumberOfUnitsIdleResponses thisIsImportant
	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsIdleResponses:1:20"
	ApplyContextToWorld		
	response imps_local_negative_no_local_units_idle 
}


// opponent:

Rule imps_opponent_positive_no_local_units_player_losing 
{	
	
	// has broad intro:
	
	criteria Death IsNotCombat IsOpponentImp PlayerIsLosingGame IsGameRound4orMore IsNoLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsOpponentUnits IsWaitingToPlayOpponentNumberOfUnitsIdleResponses thisIsImportant
	ApplyContext "IsWaitingToPlayOpponentNumberOfUnitsIdleResponses:1:20"
	ApplyContextToWorld		
	response imps_opponent_positive_no_local_units_player_losing 
}










// OPPONENT HAS NO OPPONENT UNITS: *********************************************************************************************************************************************************************************************************************


// PLAYER NOT LOSING GAME: --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


// player's reaction:


Rule imps_local_positive_no_opponent_units_broad
{
		// has broad intro
	
	criteria Death IsNotCombat IsLocalImp PlayerIsNotLosingGame  IsLocalUnits IsNoOpponentUnits NoLocalTowerDeathSkull  NoOpponentTowerDeathSkull IsWaitingToPlayPlayerNumberOfUnitsResponses thisIsImportant
	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsResponses:1:20"	
	ApplyContextToWorld		
	response imps_local_positive_no_opponent_units_broad
}


Rule imps_local_positive_no_opponent_units_idle
{

	// this plays when we DONT want the player to play the big intro, 
	
	criteria Death IsNotCombat IsLocalImp IsLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsNoOpponentUnits IsWaitingToPlayPlayerNumberOfUnitsIdleResponses 
	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsIdleResponses:1:20"
	ApplyContextToWorld		
	response imps_local_positive_no_opponent_units_idle 
}


Rule imps_local_positive_no_opponent_units_idle_special
{
	criteria Special IsChainingToPlayerNoOpponentUnitsIdleLoop IsLocalImp 
	 
	response imps_local_positive_no_opponent_units_idle
}


// opponent's reaction:


Rule imps_opponent_negative_no_opponent_units_idle
{
	criteria Death IsNotCombat IsOpponentImp IsNoOpponentUnits IsLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull thisIsImportant
		
	response imps_opponent_negative_no_opponent_units_idle
}


















//====  TIMER  BASED  =================================================================================================================================================================================================================================================================================================================================================================================
//========================================================================================================================================================================================================================================================================================================================================================================================================

// PLAYER HAS NO LOCAL UNITS: *********************************************************************************************************************************************************************************************************************

// note: the big intro animations will try to play first as they have "thisIsImportant" criteria.
// if the game timer check is running for the big intro and the RRs cant play it, they will fall back and play the idle without the big intro.

// player:

Rule imps_local_negative_no_local_units_idle_from_timer_broad
{

	// this plays when we DONT want the player to play the big intro, 
	
	criteria Timer IsActionPhase IsTimeRemainingInLane IsLocalImp IsNoLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsOpponentUnits IsWaitingToPlayPlayerNumberOfUnitsResponses thisIsImportant
	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsResponses:1:60"
	ApplyContextToWorld		
	
	response imps_local_negative_no_local_units_broad
}

Rule imps_local_negative_no_local_units_idle_from_timer
{

	// this plays when we DONT want the player to play the big intro, 
	
	criteria Timer IsActionPhase IsTimeRemainingInLane IsLocalImp IsNoLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsOpponentUnits IsWaitingToPlayPlayerNumberOfUnitsIdleResponses 
	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsIdleResponses:1:10"
	ApplyContextToWorld		
	
	response imps_local_negative_no_local_units_idle 
}


// opponent's reaction:

Rule imps_opponent_positive_no_local_units_idle_from_timer
{

	// this plays when we DONT want the opponent to play the big intro, 
	
	criteria Timer IsActionPhase IsTimeRemainingInLane IsOpponentImp IsNoLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsOpponentUnits IsWaitingToPlayOpponentNumberOfUnitsIdleResponses thisIsImportant
	ApplyContext "IsWaitingToPlayOpponentNumberOfUnitsIdleResponses:1:10"
	ApplyContextToWorld		
	
	response imps_opponent_positive_no_local_units_idle 
}


// PLAYER LOSING GAME:    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


// opponent's reaction:

Rule imps_opponent_positive_no_local_units_from_timer_player_losing
{	
	
	// has broad intro:
	
	criteria Timer IsActionPhase PlayerIsLosingGame IsTimeRemainingInLane IsOpponentImp IsNoLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsOpponentUnits IsWaitingToPlayOpponentNumberOfUnitsResponsesFromTimer thisIsImportant
	ApplyContext "IsWaitingToPlayOpponentNumberOfUnitsResponsesFromTimer:1:60"
	ApplyContextToWorld		
	response imps_opponent_positive_no_local_units_player_losing 
}






// OPPONENT HAS NO OPPONENT UNITS: *********************************************************************************************************************************************************************************************************************



// player:

Rule imps_local_positive_no_local_units_idle_from_timer
{

	// this plays when we DONT want the player to play the big intro, 
	
	criteria Timer IsActionPhase IsTimeRemainingInLane IsLocalImp IsLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsNoOpponentUnits IsWaitingToPlayPlayerNumberOfUnitsResponses thisIsImportant
	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsResponses:1:60"
	ApplyContextToWorld		
	
	response imps_local_positive_no_opponent_units_idle 
}


// opponent's reaction:

Rule imps_opponent_negative_no_opponent_units_idle_from_timer
{

	// this plays when we DONT want the opponent to play the big intro, 
	
	criteria Timer IsActionPhase IsTimeRemainingInLane IsOpponentImp IsLocalUnits NoLocalTowerDeathSkull NoOpponentTowerDeathSkull IsNoOpponentUnits IsWaitingToPlayOpponentNumberOfUnitsIdleResponses thisIsImportant
	ApplyContext "IsWaitingToPlayOpponentNumberOfUnitsIdleResponses:1:20"
	ApplyContextToWorld		
	
	response imps_opponent_negative_no_opponent_units_idle 
}























//// player NO OPPONENT UNITS:
//
//
//
//
//Rule imps_local_positive_no_opposing_units
//{
//	criteria Death IsNotCombat IsLocalImp PlayerIsNotLosingGame IsTargetHero IsLocalUnits IsNoOpponentUnits NoLocalTowerDeathSkull  IsWaitingToPlayPlayerNumberOfUnitsResponses thisIsImportant
//	ApplyContextToWorld		
//	response imps_local_positive_no_opposing_units 
//}
//
//Rule imps_local_positive_no_opposing_units_creep
//{
//	criteria Death IsNotCombat IsLocalImp PlayerIsNotLosingGame IsTargetCreep IsLocalUnits IsNoOpponentUnits NoLocalTowerDeathSkull  IsWaitingToPlayPlayerNumberOfUnitsResponses thisIsImportant
//	ApplyContextToWorld		
//	response imps_local_positive_no_opposing_units_creep 
//}
//
//
//
//// opponent's reaction:
//
//
//Rule imps_opponent_positive_no_local_units
//{
//	criteria Death IsNotCombat IsOpponentImp PlayerIsLosingGame IsGameRound4orMore OpponentIsNotLosingGame IsNoLocalUnits IsOpponentUnits IsWaitingToPlayOpponentNumberOfLocalUnitsResponses thisIsImportant
//	ApplyContext "IsWaitingToPlayOpponentNumberOfLocalUnitsResponses:1:20"
//	ApplyContextToWorld		
//	response imps_opponent_positive_no_local_units_broad
//}










////====   NEW LANE ENTRY   =====================================================================================================================================================================================================================
////=============================================================================================================================================================================================================================================
//
//
//// towers and low health:
//
//
////Rule rule_imps_local_positive_opponent_tower_has_low_health_lane_start
////{
////	criteria BeginSpellcasting IsLocalImp IsOpponentTowerLessOrEqualTo10Health ThisIsImportant
////	response imps_local_positive_tower_gained_death_skull
////	
////	// NEEDS CONTENT!!!  probably needs its own LOW HEALTH animation
////	
////}
////
////Rule rule_imps_local_lane_entry_negative_player_tower_has_low_health_lane_start
////{
////	criteria BeginSpellcasting IsLocalTowerLessOrEqualTo10Health IsLocalImp 
////	response imps_local_negative_tower_gained_death_skull
////}
//
//
//
//// no units in lanes:
//
//
//// player:
//
//Rule imps_local_negative_no_local_units_lane_start
//{
//	criteria BeginSpellcasting IsLocalImp IsNoLocalUnits IsOpponentUnits IsWaitingToPlayPlayerNumberOfUnitsResponses
//	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsResponses:1:30"
//	ApplyContextToWorld		
//	response imps_local_negative_no_local_units_broad
//}
//
//



//Rule imps_local_negative_no_local_units_no_big_intro_lane_start
//{
//	// this plays when the opponent plays the broader taunt animation and this is the player imp reaction to it.
//	
//	criteria BeginSpellcasting IsNotCombat IsLocalImp  IsNoLocalUnits IsOpponentUnits NoLocalTowerDeathSkull IsWaitingToPlayPlayerNumberOfUnitsResponses thisIsImportant
//	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsResponses:1:20"
//	ApplyContextToWorld		
//	response imps_local_negative_no_local_units_intro 
//}
//
//
//
//// opponent:
//
//Rule imps_opponent_positive_no_local_units_lane_start
//{
//	criteria BeginSpellcasting IsNotCombat IsOpponentImp PlayerIsLosingGame IsGameRound4orMore IsNoLocalUnits IsOpponentUnits NoLocalTowerDeathSkull IsWaitingToPlayOpponentNumberOfLocalUnitsResponses thisIsImportant
//	ApplyContext "IsWaitingToPlayOpponentNumberOfLocalUnitsResponses:1:20"
//	ApplyContextToWorld		
//	response imps_opponent_positive_no_local_units_idle
//}
//
//
//
////====   TIMER BASED  NO LOCAL UNITS  =========================================================================================================================================================================================================
////=============================================================================================================================================================================================================================================
//
//
//Rule imps_local_negative_no_local_units_no_big_intro_from_timer
//{
//	// this plays without the broad pointing to the tower intro
//	
//	criteria Timer IsActionPhase IsTimeRemainingInLane IsNotCombat IsLocalImp IsNoLocalUnits IsOpponentUnits NoLocalTowerDeathSkull IsWaitingToPlayPlayerNumberOfUnitsIdleResponses thisIsImportant
//
//	ApplyContext "IsWaitingToPlayPlayerNumberOfUnitsIdleResponses:1:20"
//	ApplyContextToWorld		
//	response imps_local_negative_no_local_units_intro 
//}